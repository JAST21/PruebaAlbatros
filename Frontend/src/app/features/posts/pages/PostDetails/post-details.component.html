<div class="max-w-3xl mx-auto mt-10">
    <!-- Loading -->
    <div *ngIf="loading" class="text-center text-gray-500">
        Cargando...
    </div>

    <!-- Post -->
    <div *ngIf="post" class="bg-white p-6 rounded-xl shadow mb-8">
        <h1 class="text-3xl font-bold mb-2">{{ post.title }}</h1>
        <p class="text-sm text-gray-500 mb-4">
            Por {{ post.author }} · {{ post.createdAt | date:'mediumDate' }}
        </p>
        <p class="text-gray-800 whitespace-pre-line">
            {{ post.body }}
        </p>
    </div>

    <!-- Comentarios -->
    <div class="bg-white p-6 rounded-xl shadow mb-6">
        <h2 class="text-xl font-semibold mb-4">Comentarios</h2>

        <div *ngIf="comments.length === 0" class="text-gray-500">
            No hay comentarios aún
        </div>

        <div *ngFor="let comment of comments" class="border-b py-3">
            <p class="font-medium">{{ comment.name }}</p>
            <p class="text-sm text-gray-500">{{ comment.email }}</p>
            <p class="mt-1">{{ comment.body }}</p>

            <button class="text-sm text-red-500 mt-2 hover:underline" (click)="deleteComment(comment._id)">
                Eliminar
            </button>
        </div>
    </div>

    <!-- Form comentario -->
    <div class="bg-white p-6 rounded-xl shadow">
        <h3 class="text-lg font-semibold mb-4">Agregar comentario</h3>

        <form [formGroup]="commentForm" (ngSubmit)="addComment()" class="space-y-4">
            <input type="text" placeholder="Nombre" formControlName="name" class="w-full border rounded-lg px-3 py-2" />

            <input type="email" placeholder="Email" formControlName="email"
                class="w-full border rounded-lg px-3 py-2" />

            <textarea placeholder="Comentario" formControlName="body" rows="3"
                class="w-full border rounded-lg px-3 py-2"></textarea>

            <button type="submit" [disabled]="commentForm.invalid"
                class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer">
                Comentar
            </button>
        </form>
    </div>
</div>